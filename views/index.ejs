
<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/ag-grid-community/dist/ag-grid-community.min.js"></script>
    <link rel="stylesheet" href="/static/index.css"> 
    <!--<link rel="stylesheet" href="../css/bootstrap.min.css"/> -->
    <!-- <script type="text/javascript" src="/static/Table.js" ></script> -->   
    <!--<script type="module" src="/javascript/database.mjs"></script> -->
    <%- include('Components/navbar.ejs') %>
  </head>
    <div class="tableBox">
      <h2>      Games     </h2>
      <form id="form" method="POST">
        <h4>Search For Games:</h4>
        <label for="date">Date: </label>
        <input type="text" name="date" id="date">
        <label for="team">Team: </label>
        <input type="text" name="team" id="team">
        <input class="button-2" type="submit" value="Submit">
      </form>
      <form action="/testGetCities" method="POST">
        <label for="cityName">Old City Name:</label>
        <input type="text" id="cityName" name="cityName" required>
        <br><br>
        <label for="newName">New City Name:</label>
        <input type="text" id="newName" name="newName" required>
        <br><br>
        <button type="submit">Update City Name</button>
       </form>

      <input type="text" id="myInput" placeholder="Enter text">
      <button id="fetchDataButton" onclick="fetchCityData()">Search For Cities By State</button>
    <!-- <div id="dataGoesHere"></div> -->
          <script>
              async function fetchCityData() {
                  const userInputCity = document.getElementById("myInput").value;
                try {
                  const response = await fetch("http://localhost:4000/city/"+ userInputCity)
                  console.log("http://localhost:4000/city/"+ userInputCity)

                  if(!response.ok){
                      throw new Error('Shit broke')
                  }

                  const data1 = await response.json(); // Assuming the API returns JSON data
                  // Output the data to the console
                  console.log('API Response1:', data1);

                  // Optionally, display the response on the page (if needed)
                  document.getElementById('dataGoesHere').innerHTML = JSON.stringify(data1, null, 2);
                  
                  //return data1;

                } catch (error) {
                  console.error('Error fetching data:', error);
                }
              }
              
            </script>
      <table id = 'dataGoesHere'></table>
        
      <div id="myGrid" class="ag-theme-quartz" style="height: 500px; color:black"></div>
    </div>
    <div class="tableBox">
    <h2>Airports</h2>
      <form id="form2">
        <h4>Filters:</h4>
        <label for="dist">Max distance from stadium: </label>
        <input type="text" name="dist" id="dist">
        <input class="button-2" type="submit" value="Submit">
      </form>
    </div>
    <div style="width: 50%; height: 480px; background: white; color: black; padding-left: 50%; flex:1" id="mapContainer">
      <h1>MAP</h1>
    </div>
</html>